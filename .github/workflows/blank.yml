name: Metrics
on:
  # æ¯å¤©å‡Œæ™¨è‡ªåŠ¨æ›´æ–°
  schedule: [{cron: "0 0 * * *"}]
  # å…è®¸æ‰‹åŠ¨è¿è¡Œ
  workflow_dispatch:
  # æ¯æ¬¡æ¨é€æ›´æ–°æ—¶è¿è¡Œï¼ˆå¯é€‰ï¼‰
  push: {branches: ["main", "master"]}

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          # ğŸ‘‡ ä¸‹é¢æ˜¯æ¨èé…ç½®ï¼Œå¯æ ¹æ®éœ€è¦ä¿®æ”¹
          user: NNNietzsche
          template: classic
          base: header, activity, community, repositories, metadata
          config_timezone: Asia/Tokyo
          plugins_activity: yes
          plugins_languages: yes
          plugins_achievements: yes
